(this.webpackJsonpFILMBUFF=this.webpackJsonpFILMBUFF||[]).push([[0],{49:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),r=a.n(c),i=a(41),s=a.n(i),o=(a(49),a(7)),l=a(8),h=a(10),u=a(9),j=a(22),d=a(5),p=a(20),b=a.n(p),m=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).theApiCall=function(t){var a="discover";t&&(a="search"),b()({url:"https://api.themoviedb.org/3/".concat(a,"/movie"),params:{api_key:"47f7f0a78ce3e2f1427da95247b6bc0e",language:"en-US",page:1,query:t}}).then((function(t){e.setState({movies:t.data.results})}))},e.state={movies:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params.searchQueryHere?this.theApiCall(this.props.match.params.searchQueryHere):this.theApiCall()}},{key:"componentDidUpdate",value:function(e){e.match.params.searchQueryHere!==this.props.match.params.searchQueryHere&&this.theApiCall(this.props.match.params.searchQueryHere)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"catalogue flex",children:this.state.movies.map((function(e){if(null!==e.poster_path)return Object(n.jsx)("div",{className:"movie",children:Object(n.jsx)(j.b,{to:"/movie/".concat(e.id),children:Object(n.jsx)("img",{src:"http://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:"Poster for ".concat(e.original_title)})})},e.id)}))})}}]),a}(c.Component),v=a(30);a(70);v.a.initializeApp({apiKey:"AIzaSyCxncbNWc05xc1-OE0GeqFj93BIlPHCU88",authDomain:"project6-60da1.firebaseapp.com",projectId:"project6-60da1",storageBucket:"project6-60da1.appspot.com",messagingSenderId:"864738316885",appId:"1:864738316885:web:87f7139af069f0c8fd3adc"});var f=v.a,O=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"RESULTS"}),Object(n.jsx)("div",{className:"flex dropDownResult",children:this.props.foreignMoviesProp.map((function(e){return Object(n.jsx)("div",{className:"movieDropDown",children:Object(n.jsx)("img",{src:"http://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:e.title})},e.id)}))})]})}}]),a}(c.Component),g=a(16),x=a(24),y=a(23);g.b.add(x.a);var C=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).axiosCall=function(t){var a;t?b()({url:"https://api.themoviedb.org/3/discover/movie/",params:{api_key:"47f7f0a78ce3e2f1427da95247b6bc0e",language:t,with_genres:e.props.genre,page:(a=100,Math.floor(Math.random()*Math.floor(a)))}}).then((function(t){var a=t.data.results.slice(0,6);e.setState({foreignMovie:a})})).catch((function(e){alert("error")})):alert("Please select a language")},e.saveSelection=function(){var t=f.database().ref();console.log("after like button",e.state.foreignMovie),0===e.state.foreignMovie.length?alert("Nothing has been selected yet"):(console.log("lucas"),t.push([e.props.movie,e.state.foreignMovie]))},e.handleInputChange=function(t){e.setState({userSelection:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.axiosCall(e.state.userSelection)},e.state={userSelection:"",foreignMovie:[]},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)("form",{className:"flex column dropDownForm",children:[Object(n.jsx)("label",{htmlFor:"languagesDropDown",children:"Interested in something similar but in a different language?"}),Object(n.jsxs)("div",{className:"flex dropDownBox",children:[Object(n.jsxs)("select",{name:"languagesDropdown",id:"languagesDropdown",onChange:this.handleInputChange,value:this.state.userSelection,children:[Object(n.jsx)("option",{value:"",disabled:!0,children:"Language?"}),Object(n.jsx)("option",{value:"de",children:"German"}),Object(n.jsx)("option",{value:"es",children:"Spanish"})]}),Object(n.jsx)("button",{className:"dropDownButton",onClick:this.handleSubmit,children:"Show me"})]})]}),Object(n.jsx)("button",{className:"favourite",onClick:this.saveSelection,children:Object(n.jsx)(y.a,{icon:["fa","heart"]})}),Object(n.jsx)(O,{foreignMoviesProp:this.state.foreignMovie})]})}}]),a}(c.Component),S=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={movie:{},genre:""},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;b()({url:"https://api.themoviedb.org/3/movie/".concat(this.props.match.params.movieDetails),params:{api_key:"47f7f0a78ce3e2f1427da95247b6bc0e",language:"en-US",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:"1"}}).then((function(t){e.setState({movie:t.data,genre:t.data.genres[0].id})})).catch((function(e){alert("error")}))}},{key:"render",value:function(){var e=this.state.movie,t=e.original_title,a=e.tagline,c=e.overview,r=e.poster_path;return Object(n.jsxs)("div",{className:"posterAll flex wrapper",children:[Object(n.jsx)("div",{className:"image flex column",children:Object(n.jsx)("div",{className:"image",children:Object(n.jsx)("img",{src:"http://image.tmdb.org/t/p/w500/".concat(r),alt:"poster for ".concat(r)})})}),Object(n.jsxs)("div",{className:"textContent flex column",children:[Object(n.jsx)("h2",{children:t}),Object(n.jsx)("h3",{children:a}),Object(n.jsx)("p",{children:c}),Object(n.jsx)(C,{genre:this.state.genre,movie:this.state.movie})]})]})}}]),a}(c.Component),k=a(31),w=a(43),D=Object(d.e)((function(e){var t=e.history,a=(e.location,e.match,e.staticContext,e.to),c=e.onClick,r=Object(w.a)(e,["history","location","match","staticContext","to","onClick"]);return Object(n.jsx)("button",Object(k.a)(Object(k.a)({},r),{},{onClick:function(e){c&&c(e),t.push(a)}}))})),N=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({searchQuery:t.target.value})},e.state={searchQuery:""},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("form",{className:"search flex searchButtonBox",children:[Object(n.jsx)("input",{onChange:this.handleChange,value:this.state.searchQuery,type:"text",required:!0}),Object(n.jsx)(D,{to:"/search/".concat(this.state.searchQuery),children:"Search"})]})}}]),a}(c.Component);g.b.add(x.b);var F=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).removeFromFirebase=function(){f.database().ref("/").remove()},e.state={savedRecommendations:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;f.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var c in a){var r=a[c];n.push(r)}var i=Object.values(n);e.setState({savedRecommendations:i})}))}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("ul",{children:this.state.savedRecommendations.map((function(e){e[0];var t=e[1];if(t)return t.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)("li",{children:Object(n.jsx)("h2",{children:e.title})})},e.id)}))}))}),Object(n.jsx)("button",{className:"removeButton",onClick:this.removeFromFirebase,children:Object(n.jsx)(y.a,{icon:["fas","times"]})})]})}}]),a}(c.Component),M=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("footer",{className:"wrapper",children:Object(n.jsx)("p",{children:"\xa9 Created @ Juno College"})})}}]),a}(c.Component),I=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(j.a,{basename:"",children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("header",{className:"wrapper flex",children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("h1",{children:"MOVIES"})}),Object(n.jsx)(N,{search:this.handleSearchCall}),Object(n.jsx)(F,{})]}),Object(n.jsx)(d.a,{exact:!0,path:"/",component:m}),Object(n.jsx)(d.a,{path:"/search/:searchQueryHere",component:m}),Object(n.jsx)(d.a,{path:"/movie/:movieDetails",component:S}),Object(n.jsx)(M,{})]})})}}]),a}(c.Component),_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(I,{})}),document.getElementById("root")),_()}},[[75,1,2]]]);
//# sourceMappingURL=main.24c0c792.chunk.js.map